<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dive Log PoC Bluetooth Sync</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">

    <!-- SCREEN 1: Scan Screen (initial view) -->
    <div id="scanScreen" class="screen">
        <header>
            <h1>Sync Device</h1>
        </header>
        <main>
            <!-- Backend status indicator -->
            <div id="backendStatus" class="backend-status">
                <span class="status-indicator"></span>
                <span class="status-text">Backend: Not tested</span>
            </div>

            <div class="bluetooth-icon">
                <svg width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6.5 6.5l11 11M17.5 6.5l-11 11M12 2v20"/>
                </svg>
            </div>
            <p class="instructions">Connect your nearby device</p>
            <div class="button-group">
                <button id="scanRealBtn" class="btn-primary">Scan Bluetooth Devices</button>
                <button id="scanMockBtn" class="btn-secondary">Try Mock Demo</button>
            </div>

            <!-- Test server connection button -->
            <div class="test-connection">
                <button id="testConnectionBtn" class="btn-test">Test Server Connection</button>
            </div>

            <div id="status" class="status"></div>
        </main>
    </div>

    <!-- SCREEN 2: Connecting Screen -->
    <div id="connectingScreen" class="screen hidden">
        <header>
            <button id="backFromConnecting" class="btn-back">← Back</button>
            <h1>Connecting...</h1>
        </header>
        <main>
            <div class="device-card">
                <div class="device-icon">●</div>
                <div id="connectingDeviceName" class="device-name">Device Name</div>
                <div class="device-meta">Last connected today</div>
            </div>

            <div class="loading-spinner">
                <div class="bluetooth-icon">
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6.5 6.5l11 11M17.5 6.5l-11 11M12 2v20"/>
                    </svg>
                </div>
                <p class="connecting-text">Connecting...</p>
            </div>

            <p class="hint-text">Only compatible devices are shown</p>
        </main>
    </div>

    <!-- SCREEN 3: Dive Logs Screen -->
    <div id="logsScreen" class="screen hidden">
        <header>
            <button id="backFromLogs" class="btn-back">← Back</button>
            <h1>Dive Logs</h1>
        </header>
        <main>
            <div id="logsList" class="logs-list"></div>
        </main>
    </div>

</div>

<script src="modules/ble.js"></script>
<script src="modules/ui.js"></script>
<script src="modules/mock-data.js"></script>
<script src="app.js"></script>
</body>
</html>
